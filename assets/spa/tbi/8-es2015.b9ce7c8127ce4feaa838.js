(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{OwWB:function(t,n,e){"use strict";e.r(n);var o=e("ofXK"),i=e("3Pt+"),s=e("TEn/"),r=e("tyNb"),a=e("mrSG"),l=e("w89b"),c=e("5RJW"),g=e("SPri"),p=e("up+p"),h=e("ccq1"),d=e("fXoL");const m=[{path:"",component:(()=>{class t{constructor(t,n,e,o,s,r,a,l,c,g){this.logger=t,this.fb=n,this.googlePlus=e,this.userPrv=o,this.formBuilder=s,this.router=r,this.toastController=a,this.signInWithApple=l,this.route=c,this.loadingController=g,this.isSubmited=!1,this.TAG="LoginPage",this.pwdIcon="eye-outline",this.showPwd=!1,this.loginForm=s.group({email:["",i.m.compose([i.m.required,i.m.email])],password:["",i.m.required],remember:[!0,i.m.nullValidator]}),this.userPrv.isLoggedIn()}ngOnInit(){this.route.params.subscribe(t=>{this.snapshot=t.snapshot,this.snapshot_id=t.snapshot_id})}togglePwd(){this.showPwd=!this.showPwd,this.pwdIcon=this.showPwd?"eye-off-outline":"eye-outline"}onSignIn(){this.loginForm.valid&&this.userPrv.login(this.loginForm.value).subscribe(t=>{if(this.logger.log(this.TAG,"Signup Page",t),t){this.loginForm.reset();let t={};this.snapshot&&"null"!==this.snapshot&&(t={id:this.snapshot_id}),this.router.navigate([this.snapshot&&"null"!==this.snapshot?this.snapshot:"/tabs/home",t])}else this.alertError()},t=>console.log(t+"___"))}alertError(){return Object(a.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({position:"top",message:"L'adresse e-mail ou le mot de passe que vous avez entr\xe9 n'est pas valide.",duration:2e3})).present()}))}page_register(){this.router.navigate(["/tabs/profil/register",{snapshot:this.snapshot&&"null"!==this.snapshot?this.snapshot:null}])}login_fb(){this.fb.login(["public_profile","email"]).then(t=>{this.userPrv.fb_login(t.authResponse).subscribe(t=>{if(this.logger.log(this.TAG,"Fb Signup Page",t),t){let t={};this.snapshot&&"null"!==this.snapshot&&(t={id:this.snapshot_id}),this.router.navigate([this.snapshot&&"null"!==this.snapshot?this.snapshot:"/tabs/home",t])}else this.alertError()},t=>console.log(t+"___"))}).catch(t=>console.log("Error logging into Facebook",t))}login_gp(){this.googlePlus.login({}).then(t=>{console.log(t),this.userPrv.gp_login(t).subscribe(t=>{if(this.logger.log(this.TAG,"Gp Signup Page",t),t){let t={};this.snapshot&&"null"!==this.snapshot&&(t={id:this.snapshot_id}),this.router.navigate([this.snapshot&&"null"!==this.snapshot?this.snapshot:"/tabs/home",t])}else this.alertError()},t=>console.log(t+"___"))}).catch(t=>console.log("Error logging into Google",t))}login_apple(){this.signInWithApple.signin({requestedScopes:[h.a.ASAuthorizationScopeFullName,h.a.ASAuthorizationScopeEmail]}).then(t=>{alert(JSON.stringify(t))}).catch(t=>{console.error(t)})}page_password(){this.router.navigate(["/tabs/profil/password",{snapshot:this.snapshot&&"null"!==this.snapshot?this.snapshot:null}])}}return t.\u0275fac=function(n){return new(n||t)(d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](g.a),d["\u0275\u0275directiveInject"](p.a),d["\u0275\u0275directiveInject"](l.a),d["\u0275\u0275directiveInject"](i.b),d["\u0275\u0275directiveInject"](r.g),d["\u0275\u0275directiveInject"](s.V),d["\u0275\u0275directiveInject"](h.b),d["\u0275\u0275directiveInject"](r.a),d["\u0275\u0275directiveInject"](s.N))},t.\u0275cmp=d["\u0275\u0275defineComponent"]({type:t,selectors:[["app-login"]],decls:32,vars:3,consts:[["mode","md"],["slot","start"],[1,"tbi-padding"],[3,"formGroup"],["src","assets/signin.svg","alt",""],[3,"click"],[1,"ion-list-form"],["lines","none"],["position","floating"],["formControlName","email","type","email"],["formControlName","password",3,"type"],[1,"show-pwd"],[3,"name","click"],[1,"forgot-password-container"],["href","javascript:void(0)",3,"click"],[1,"btn-default",3,"click"]],template:function(t,n){1&t&&(d["\u0275\u0275elementStart"](0,"ion-header",0),d["\u0275\u0275elementStart"](1,"ion-toolbar"),d["\u0275\u0275elementStart"](2,"ion-buttons",1),d["\u0275\u0275element"](3,"ion-back-button"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](4,"ion-title"),d["\u0275\u0275text"](5,"Mon compte"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"ion-content"),d["\u0275\u0275elementStart"](7,"div",2),d["\u0275\u0275elementStart"](8,"form",3),d["\u0275\u0275element"](9,"img",4),d["\u0275\u0275elementStart"](10,"h1"),d["\u0275\u0275elementStart"](11,"span"),d["\u0275\u0275text"](12,"Connexion"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"span",5),d["\u0275\u0275listener"]("click",(function(){return n.page_register()})),d["\u0275\u0275text"](14,"Inscription"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"ion-list",6),d["\u0275\u0275elementStart"](16,"ion-item",7),d["\u0275\u0275elementStart"](17,"ion-label",8),d["\u0275\u0275text"](18,"Email"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](19,"ion-input",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"ion-item",7),d["\u0275\u0275elementStart"](21,"ion-label",8),d["\u0275\u0275text"](22,"Mot de passe"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](23,"ion-input",10),d["\u0275\u0275elementStart"](24,"div",11),d["\u0275\u0275elementStart"](25,"ion-icon",12),d["\u0275\u0275listener"]("click",(function(){return n.togglePwd()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"div",13),d["\u0275\u0275elementStart"](27,"p"),d["\u0275\u0275elementStart"](28,"a",14),d["\u0275\u0275listener"]("click",(function(){return n.page_password()})),d["\u0275\u0275text"](29,"Mot de passe oubli\xe9 ?"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"ion-button",15),d["\u0275\u0275listener"]("click",(function(){return n.onSignIn()})),d["\u0275\u0275text"](31," Se connecter "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&t&&(d["\u0275\u0275advance"](8),d["\u0275\u0275property"]("formGroup",n.loginForm),d["\u0275\u0275advance"](15),d["\u0275\u0275property"]("type",n.showPwd?"text":"password"),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("name",n.pwdIcon))},directives:[s.p,s.K,s.i,s.e,s.f,s.J,s.k,i.n,i.j,i.d,s.v,s.t,s.u,s.s,s.U,i.i,i.c,s.q,s.h],styles:["ion-content[_ngcontent-%COMP%]   .tbi-padding[_ngcontent-%COMP%]{padding-top:30px}ion-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:0}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:1.4rem;margin-bottom:0;margin-top:0;font-weight:600;color:#261933}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:.9rem;margin-bottom:0;margin-top:0;font-weight:400;border-left:1px solid #bfbfbf;color:#8e8e8e;margin-left:15px;padding-left:15px}ion-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:130px;margin:auto auto 30px;text-align:center;display:block}ion-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{height:100%}ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:var(--ion-color-primary);--border-radius:6px;--box-shadow:none;--padding-bottom:20px;--padding-top:20px;--padding-start:0px;--padding-end:0px;margin:20px 0 0;width:100%;text-transform:uppercase;font-weight:700;font-size:1rem;height:auto}ion-content[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{text-align:center;margin:30px auto auto}ion-content[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-primary-opacity-6)}ion-content[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary-opacity-8)}ion-content[_ngcontent-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]{margin:10px auto auto;text-align:right}ion-content[_ngcontent-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}ion-content[_ngcontent-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d1b26;text-decoration:none;font-weight:600}"]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=d["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(n){return new(n||t)},imports:[[r.i.forChild(m)],r.i]}),t})();e.d(n,"LoginPageModule",(function(){return f}));let f=(()=>{class t{}return t.\u0275mod=d["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(n){return new(n||t)},imports:[[o.b,i.e,i.l,s.L,u]]}),t})()}}]);