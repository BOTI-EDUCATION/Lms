function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{OwWB:function(n,t,e){"use strict";e.r(t);var o,i,r=e("ofXK"),a=e("3Pt+"),s=e("TEn/"),l=e("tyNb"),c=e("mrSG"),p=e("w89b"),g=e("5RJW"),u=e("SPri"),d=e("up+p"),m=e("ccq1"),h=e("fXoL"),f=[{path:"",component:(o=function(){function n(t,e,o,i,r,s,l,c,p,g){_classCallCheck(this,n),this.logger=t,this.fb=e,this.googlePlus=o,this.userPrv=i,this.formBuilder=r,this.router=s,this.toastController=l,this.signInWithApple=c,this.route=p,this.loadingController=g,this.isSubmited=!1,this.TAG="LoginPage",this.pwdIcon="eye-outline",this.showPwd=!1,this.loginForm=r.group({email:["",a.m.compose([a.m.required,a.m.email])],password:["",a.m.required],remember:[!0,a.m.nullValidator]}),this.userPrv.isLoggedIn()}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.route.params.subscribe((function(t){n.snapshot=t.snapshot,n.snapshot_id=t.snapshot_id}))}},{key:"togglePwd",value:function(){this.showPwd=!this.showPwd,this.pwdIcon=this.showPwd?"eye-off-outline":"eye-outline"}},{key:"onSignIn",value:function(){var n=this;this.loginForm.valid&&this.userPrv.login(this.loginForm.value).subscribe((function(t){if(n.logger.log(n.TAG,"Signup Page",t),t){n.loginForm.reset();var e={};n.snapshot&&"null"!==n.snapshot&&(e={id:n.snapshot_id}),n.router.navigate([n.snapshot&&"null"!==n.snapshot?n.snapshot:"/tabs/home",e])}else n.alertError()}),(function(n){return console.log(n+"___")}))}},{key:"alertError",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.toastController.create({position:"top",message:"L'adresse e-mail ou le mot de passe que vous avez entr\xe9 n'est pas valide.",duration:2e3});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}},{key:"page_register",value:function(){this.router.navigate(["/tabs/profil/register",{snapshot:this.snapshot&&"null"!==this.snapshot?this.snapshot:null}])}},{key:"login_fb",value:function(){var n=this;this.fb.login(["public_profile","email"]).then((function(t){n.userPrv.fb_login(t.authResponse).subscribe((function(t){if(n.logger.log(n.TAG,"Fb Signup Page",t),t){var e={};n.snapshot&&"null"!==n.snapshot&&(e={id:n.snapshot_id}),n.router.navigate([n.snapshot&&"null"!==n.snapshot?n.snapshot:"/tabs/home",e])}else n.alertError()}),(function(n){return console.log(n+"___")}))})).catch((function(n){return console.log("Error logging into Facebook",n)}))}},{key:"login_gp",value:function(){var n=this;this.googlePlus.login({}).then((function(t){console.log(t),n.userPrv.gp_login(t).subscribe((function(t){if(n.logger.log(n.TAG,"Gp Signup Page",t),t){var e={};n.snapshot&&"null"!==n.snapshot&&(e={id:n.snapshot_id}),n.router.navigate([n.snapshot&&"null"!==n.snapshot?n.snapshot:"/tabs/home",e])}else n.alertError()}),(function(n){return console.log(n+"___")}))})).catch((function(n){return console.log("Error logging into Google",n)}))}},{key:"login_apple",value:function(){this.signInWithApple.signin({requestedScopes:[m.a.ASAuthorizationScopeFullName,m.a.ASAuthorizationScopeEmail]}).then((function(n){alert(JSON.stringify(n))})).catch((function(n){console.error(n)}))}},{key:"page_password",value:function(){this.router.navigate(["/tabs/profil/password",{snapshot:this.snapshot&&"null"!==this.snapshot?this.snapshot:null}])}}]),n}(),o.\u0275fac=function(n){return new(n||o)(h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](u.a),h["\u0275\u0275directiveInject"](d.a),h["\u0275\u0275directiveInject"](p.a),h["\u0275\u0275directiveInject"](a.b),h["\u0275\u0275directiveInject"](l.g),h["\u0275\u0275directiveInject"](s.V),h["\u0275\u0275directiveInject"](m.b),h["\u0275\u0275directiveInject"](l.a),h["\u0275\u0275directiveInject"](s.N))},o.\u0275cmp=h["\u0275\u0275defineComponent"]({type:o,selectors:[["app-login"]],decls:32,vars:3,consts:[["mode","md"],["slot","start"],[1,"tbi-padding"],[3,"formGroup"],["src","assets/signin.svg","alt",""],[3,"click"],[1,"ion-list-form"],["lines","none"],["position","floating"],["formControlName","email","type","email"],["formControlName","password",3,"type"],[1,"show-pwd"],[3,"name","click"],[1,"forgot-password-container"],["href","javascript:void(0)",3,"click"],[1,"btn-default",3,"click"]],template:function(n,t){1&n&&(h["\u0275\u0275elementStart"](0,"ion-header",0),h["\u0275\u0275elementStart"](1,"ion-toolbar"),h["\u0275\u0275elementStart"](2,"ion-buttons",1),h["\u0275\u0275element"](3,"ion-back-button"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"ion-title"),h["\u0275\u0275text"](5,"Mon compte"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](6,"ion-content"),h["\u0275\u0275elementStart"](7,"div",2),h["\u0275\u0275elementStart"](8,"form",3),h["\u0275\u0275element"](9,"img",4),h["\u0275\u0275elementStart"](10,"h1"),h["\u0275\u0275elementStart"](11,"span"),h["\u0275\u0275text"](12,"Connexion"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](13,"span",5),h["\u0275\u0275listener"]("click",(function(){return t.page_register()})),h["\u0275\u0275text"](14,"Inscription"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](15,"ion-list",6),h["\u0275\u0275elementStart"](16,"ion-item",7),h["\u0275\u0275elementStart"](17,"ion-label",8),h["\u0275\u0275text"](18,"Email"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](19,"ion-input",9),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](20,"ion-item",7),h["\u0275\u0275elementStart"](21,"ion-label",8),h["\u0275\u0275text"](22,"Mot de passe"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](23,"ion-input",10),h["\u0275\u0275elementStart"](24,"div",11),h["\u0275\u0275elementStart"](25,"ion-icon",12),h["\u0275\u0275listener"]("click",(function(){return t.togglePwd()})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](26,"div",13),h["\u0275\u0275elementStart"](27,"p"),h["\u0275\u0275elementStart"](28,"a",14),h["\u0275\u0275listener"]("click",(function(){return t.page_password()})),h["\u0275\u0275text"](29,"Mot de passe oubli\xe9 ?"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](30,"ion-button",15),h["\u0275\u0275listener"]("click",(function(){return t.onSignIn()})),h["\u0275\u0275text"](31," Se connecter "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&n&&(h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("formGroup",t.loginForm),h["\u0275\u0275advance"](15),h["\u0275\u0275property"]("type",t.showPwd?"text":"password"),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("name",t.pwdIcon))},directives:[s.p,s.K,s.i,s.e,s.f,s.J,s.k,a.n,a.j,a.d,s.v,s.t,s.u,s.s,s.U,a.i,a.c,s.q,s.h],styles:["ion-content[_ngcontent-%COMP%]   .tbi-padding[_ngcontent-%COMP%]{padding-top:30px}ion-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:0}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:1.4rem;margin-bottom:0;margin-top:0;font-weight:600;color:#261933}ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-size:.9rem;margin-bottom:0;margin-top:0;font-weight:400;border-left:1px solid #bfbfbf;color:#8e8e8e;margin-left:15px;padding-left:15px}ion-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:130px;margin:auto auto 30px;text-align:center;display:block}ion-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{height:100%}ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:var(--ion-color-primary);--border-radius:6px;--box-shadow:none;--padding-bottom:20px;--padding-top:20px;--padding-start:0px;--padding-end:0px;margin:20px 0 0;width:100%;text-transform:uppercase;font-weight:700;font-size:1rem;height:auto}ion-content[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]{text-align:center;margin:30px auto auto}ion-content[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-primary-opacity-6)}ion-content[_ngcontent-%COMP%]   .sign-up-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary-opacity-8)}ion-content[_ngcontent-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]{margin:10px auto auto;text-align:right}ion-content[_ngcontent-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}ion-content[_ngcontent-%COMP%]   .forgot-password-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d1b26;text-decoration:none;font-weight:600}"]}),o)}],_=((i=function n(){_classCallCheck(this,n)}).\u0275mod=h["\u0275\u0275defineNgModule"]({type:i}),i.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(n){return new(n||i)},imports:[[l.i.forChild(f)],l.i]}),i);e.d(t,"LoginPageModule",(function(){return P}));var v,P=((v=function n(){_classCallCheck(this,n)}).\u0275mod=h["\u0275\u0275defineNgModule"]({type:v}),v.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(n){return new(n||v)},imports:[[r.b,a.e,a.l,s.L,_]]}),v)}}]);